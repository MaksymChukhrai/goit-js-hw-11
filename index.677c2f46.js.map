{"mappings":"AAIqC,MAA/BA,EAAaC,SAASC,eAAe,eACrCC,EAAUF,SAASG,cAAc,YACjCC,EAAcJ,SAASG,cAAc,cAGhBE,eAAZC,EAAYC,EAAOC,EAAO,GACvC,MAGMC,EAAM,qEAA4CF,kEAAsEC,gBAE9H,IAEE,aADuBE,MAAMC,IAAIF,IACjBG,KAAKC,I,CACrB,MAAOC,GAEP,OADAC,QAAQD,MAAM,yBAA0BA,GACjC,E,EAK+B,SAAjCE,EAAcC,GACrB,MAAMC,EAAYD,EAAOE,KAAKC,GAKc,SAAtBA,GACtB,MAAO,mDAESA,EAAMC,sBAAsBD,EAAME,iGAEPF,EAAMG,yDACNH,EAAMI,4DACHJ,EAAMK,gEACLL,EAAMM,6C,CAbbC,CAAeP,KAAQQ,KAAK,IACpE1B,EAAQ2B,WAAaX,C,CAsEvBnB,EAAW+B,iBAAiB,UA9CiB,SAAbC,GAC9BA,EAAMC,iBAEN,MAAMC,EAAcF,EAAMG,OAAOC,SAASF,YAAYG,MAAMC,OAGxC,KAAhBJ,IAVJ/B,EAAQ2B,UAAY,GAoBuBxB,eAARE,GACnC,IAAIC,EAAO,EAGmCH,eAA/BiC,IACb9B,IACA,MAAMS,QAAeX,EAAYC,EAAOC,GAEpCS,EAAOsB,OAAS,EAClBvB,EAAcC,IAEdb,EAAYoC,MAAMC,QAAU,OAC5BC,SAASC,OAAOC,QAAQ,8D,CAKgB,MAAtCC,QAAevC,EAAYC,EAAOC,GAEpCqC,EAAON,OAAS,GAClBvB,EAAc6B,GACdzC,EAAYoC,MAAMC,QAAU,QAC5BrC,EAAY0B,iBAAiB,QAASQ,KAEtClC,EAAYoC,MAAMC,QAAU,OAC5BC,SAASC,OAAOG,QAAQ,4E,CA7B1BC,CAAsBd,G","sources":["src/index.js"],"sourcesContent":["// import axios from 'axios';\n// import Notiflix from 'notiflix';\n\n// Отримуємо посилання на необхідні елементи\nconst searchForm = document.getElementById('search-form');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\n\n// Функція для виконання HTTP-запиту до API Pixabay\nasync function fetchImages(query, page = 1) {\n  const apiKey = '36686199-3af1daf12518f9079ef45ad7e'; // API ключ\n  const perPage = 40; // Кількість зображень на сторінці\n\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`;\n\n  try {\n    const response = await axios.get(url);\n    return response.data.hits; // Повертаємо тільки масив з результатами зображень\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    return []; // У разі помилки повертаємо порожній масив\n  }\n}\n\n// Функція для відображення карток із зображеннями\nfunction displayImages(images) {\n  const cardsHTML = images.map((image) => createCardHTML(image)).join('');\n  gallery.innerHTML += cardsHTML;\n}\n\n// Функція для створення HTML-розмітки картки із зображенням\nfunction createCardHTML(image) {\n  return `\n    <div class=\"photo-card\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n      <div class=\"info\">\n        <p class=\"info-item\"><b>Likes:</b> ${image.likes}</p>\n        <p class=\"info-item\"><b>Views:</b> ${image.views}</p>\n        <p class=\"info-item\"><b>Comments:</b> ${image.comments}</p>\n        <p class=\"info-item\"><b>Downloads:</b> ${image.downloads}</p>\n      </div>\n    </div>\n  `;\n}\n\n// Функція для очищення галереї\nfunction clearGallery() {\n  gallery.innerHTML = '';\n}\n\n// Функція для обробки події відправлення форми пошуку\nfunction handleSearchFormSubmit(event) {\n  event.preventDefault();\n  \n  const searchQuery = event.target.elements.searchQuery.value.trim();\n  \n  // Якщо пошуковий запит порожній, не виконуємо пошук\n  if (searchQuery === '') {\n    return;\n  }\n  \n  clearGallery();\n  \n  fetchAndDisplayImages(searchQuery);\n}\n\n// Функція для завантаження та відображення зображень\nasync function fetchAndDisplayImages(query) {\n  let page = 1;\n  \n // Функція для завантаження наступної порції зображень\n  async function loadMoreImages() {\n    page++;\n    const images = await fetchImages(query, page);\n    \n    if (images.length > 0) {\n      displayImages(images);\n    } else {\n      loadMoreBtn.style.display = 'none';\n      Notiflix.Notify.warning(\"We're sorry, but you've reached the end of search results.\");\n    }\n  }\n  \n  // Виконуємо перший запит для відображення зображень\n  const images = await fetchImages(query, page);\n\n  if (images.length > 0) {\n    displayImages(images);\n    loadMoreBtn.style.display = 'block';\n    loadMoreBtn.addEventListener('click', loadMoreImages);\n  } else {\n    loadMoreBtn.style.display = 'none';\n    Notiflix.Notify.failure('Sorry, there are no images matching your search query. Please try again.');\n  }\n}\n\n// Обробник події відправлення форми пошуку\nsearchForm.addEventListener('submit', handleSearchFormSubmit);\n"],"names":["$1f0dc3b9307be026$var$searchForm","document","getElementById","$1f0dc3b9307be026$var$gallery","querySelector","$1f0dc3b9307be026$var$loadMoreBtn","async","$1f0dc3b9307be026$var$fetchImages","query","page","url","axios","get","data","hits","error","console","$1f0dc3b9307be026$var$displayImages","images","cardsHTML","map","image","webformatURL","tags","likes","views","comments","downloads","$1f0dc3b9307be026$var$createCardHTML","join","innerHTML","addEventListener","event","preventDefault","searchQuery","target","elements","value","trim","loadMoreImages","length","style","display","Notiflix","Notify","warning","images1","failure","$1f0dc3b9307be026$var$fetchAndDisplayImages"],"version":3,"file":"index.677c2f46.js.map"}